# 🔥 소방시설 검색 시스템 (프로토타입)

건축물 정보를 입력하면 옥내소화전 설치 대상 여부를 자동으로 판단해주는 웹 애플리케이션입니다.

## ✨ 기능

- 🏢 건축물 주소 검색
- 📊 건축물 정보 표시 (연면적, 층수, 용도, 허가일 등)
- 🚰 옥내소화전 설치 대상 여부 자동 판단
- 📋 허가일 기준 적용 법령 표시
- 📱 모바일 반응형 지원

## 🚀 사용 방법

### GitHub Pages로 접속
1. Settings > Pages에서 Source를 `main` branch로 설정
2. 배포 완료 후 `https://mmgg0709.github.io/fire-test` 접속

### 테스트하기
현재는 샘플 데이터로 작동합니다:
- 아무 주소나 입력하면 샘플 건축물 정보가 표시됩니다
- 검색 버튼을 클릭하여 결과를 확인하세요

**샘플 주소:**
- 서울시 강남구 테헤란로 152 (대형, 설치 대상)
- 서울시 종로구 세종대로 209 (중형, 설치 대상)
- 서울시 마포구 양화로 45 (소형, 비대상)

## 📝 법령 데이터 수정

`fire-laws.json` 파일을 수정하여 법령 연혁을 업데이트할 수 있습니다.

### 데이터 구조
```json
{
  "시행일": "2022-12-01",
  "종료일": null,
  "법령명": "법령 이름",
  "조건": [
    {
      "용도": "업무시설",
      "연면적_이상": 3000,
      "설치기준": "설명"
    }
  ]
}
```

### 수정 방법
1. GitHub에서 `fire-laws.json` 파일 클릭
2. 연필 아이콘(✏️) 클릭
3. 내용 수정
4. "Commit changes" 클릭
5. 웹사이트 새로고침 → 즉시 반영!

## 🔌 실제 API 연동하기

### 1단계: API 키 발급

1. [공공데이터포털](https://www.data.go.kr) 접속
2. 회원가입/로그인
3. "건축물대장 표제부" 검색
4. 활용신청 (승인까지 1~2시간 소요)
5. 마이페이지에서 인증키 확인

### 2단계: API 키 입력

1. 웹사이트 접속: https://mmgg0709.github.io/fire-test
2. 우측 상단 "⚙️ API 설정" 버튼 클릭
3. API 키 입력
4. "저장" 클릭

### 3단계: 실제 주소로 검색

- 서울시 강남구 테헤란로 152
- 서울시 종로구 세종대로 209
- 실제 건축물 주소 입력

### ⚠️ 주의사항

- API 키는 브라우저 localStorage에 저장됩니다
- 공용 컴퓨터에서는 사용 후 키를 삭제하세요
- API 호출 제한: 일 1,000건 (무료)

### 🔧 Vercel 배포 (프록시 서버)

이 프로젝트는 CORS 문제 해결을 위해 Vercel 프록시를 사용합니다.

**배포 방법:**

1. Vercel 계정 생성: https://vercel.com
2. GitHub 저장소 연결
3. 자동 배포 완료
4. 프록시 URL: `https://fire-test.vercel.app/api/building`

**로컬 테스트:**

```bash
npm install -g vercel
vercel dev
```

### 📊 API 응답 구조

```json
{
  "response": {
    "body": {
      "items": {
        "item": {
          "platPlc": "서울시 강남구 테헤란로 152",
          "bldNm": "강남파이낸스센터",
          "totArea": "5600.5",
          "grndFlrCnt": "8",
          "ugrndFlrCnt": "2",
          "mainPurpsCdNm": "업무시설",
          "pmsDay": "20190315",
          "useAprDay": "20200822"
        }
      }
    }
  }
}
```

## 🔧 실제 API 연동 (선택사항)

현재는 샘플 데이터로 작동하지만, 실제 정부 API 연동도 가능합니다.

### 1. API 키 발급
- [공공데이터포털](https://www.data.go.kr) 접속
- 회원가입/로그인
- "건축물대장 표제부" API 신청
- 승인 후 인증키 복사

### 2. 코드 수정
`index.html` 파일에서:

```javascript
// 1. API 키 입력
const API_KEY = 'YOUR_API_KEY_HERE'; // ← 여기에 발급받은 키 입력

// 2. 주석 해제
// 아래 주석 처리된 API 호출 코드를 활성화하세요
```

### 3. CORS 문제 해결
브라우저에서 직접 API 호출 시 CORS 에러가 발생할 수 있습니다.
이 경우 백엔드 서버 구축이 필요합니다.

## 📂 파일 설명

- `index.html`: 메인 웹 페이지 (UI + 로직)
- `fire-laws.json`: 옥내소화전 법령 연혁 데이터
- `api/building.js`: Vercel 서버리스 프록시 함수
- `vercel.json`: Vercel 배포 설정
- `package.json`: 프로젝트 설정
- `README.md`: 프로젝트 설명서

## 🎯 향후 계획

- [ ] 실제 정부 API 연동
- [ ] 다른 소방시설 추가 (스프링클러, 자동화재탐지설비 등)
- [ ] 층별 상세 정보 표시
- [ ] 법령 전문 링크 추가
- [ ] 관리자 페이지 (법령 데이터 웹에서 수정)
- [ ] 엑셀 업로드 기능

## 📌 참고사항

- 이 시스템은 **프로토타입**입니다
- 법령 데이터는 예시이며, 실제 적용 시 **정확한 법령 확인 필수**
- 실무 적용 전 반드시 소방 전문가의 검토가 필요합니다

## 📄 라이선스

MIT License
